{"ast":null,"code":"import React,{useState,useEffect}from\"react\";import axios from\"axios\";import{VerticalGraph}from\"./VerticalGraph\";import{jsxs as _jsxs}from\"react/jsx-runtime\";import{jsx as _jsx}from\"react/jsx-runtime\";import{Fragment as _Fragment}from\"react/jsx-runtime\";const Holdings=()=>{const[allHoldings,setAllHoldings]=useState([]);useEffect(()=>{axios.get(\"http://localhost:3002/allHoldings\").then(res=>{setAllHoldings(res.data);});},[]);const labels=allHoldings.map(stock=>stock.name);const data={labels,datasets:[{label:\"Stock Price\",data:allHoldings.map(stock=>stock.price),backgroundColor:\"rgba(65, 132, 243, 0.6)\"}]};return/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsxs(\"div\",{className:\"holdings-container\",children:[/*#__PURE__*/_jsxs(\"h3\",{className:\"title\",children:[\"Holdings (\",allHoldings.length,\")\"]}),/*#__PURE__*/_jsx(\"div\",{className:\"order-table\",children:/*#__PURE__*/_jsxs(\"table\",{children:[/*#__PURE__*/_jsx(\"thead\",{children:/*#__PURE__*/_jsxs(\"tr\",{children:[/*#__PURE__*/_jsx(\"th\",{children:\"Instrument\"}),/*#__PURE__*/_jsx(\"th\",{children:\"Qty.\"}),/*#__PURE__*/_jsx(\"th\",{children:\"Avg. cost\"}),/*#__PURE__*/_jsx(\"th\",{children:\"LTP\"}),/*#__PURE__*/_jsx(\"th\",{children:\"Cur. val\"}),/*#__PURE__*/_jsx(\"th\",{children:\"P&L\"}),/*#__PURE__*/_jsx(\"th\",{children:\"Net chg.\"}),/*#__PURE__*/_jsx(\"th\",{children:\"Day chg.\"})]})}),/*#__PURE__*/_jsx(\"tbody\",{children:allHoldings.map((stock,index)=>{const curValue=stock.price*stock.qty;const pnl=curValue-stock.avg*stock.qty;const isProfit=pnl>=0;const profClass=isProfit?\"profit\":\"loss\";const dayClass=stock.isLoss?\"loss\":\"profit\";return/*#__PURE__*/_jsxs(\"tr\",{children:[/*#__PURE__*/_jsx(\"td\",{\"data-label\":\"Instrument\",children:stock.name}),/*#__PURE__*/_jsx(\"td\",{\"data-label\":\"Qty\",children:stock.qty}),/*#__PURE__*/_jsx(\"td\",{\"data-label\":\"Avg. cost\",children:stock.avg.toFixed(2)}),/*#__PURE__*/_jsx(\"td\",{\"data-label\":\"LTP\",children:stock.price.toFixed(2)}),/*#__PURE__*/_jsx(\"td\",{\"data-label\":\"Cur. val\",children:curValue.toFixed(2)}),/*#__PURE__*/_jsx(\"td\",{\"data-label\":\"P&L\",className:profClass,children:pnl.toFixed(2)}),/*#__PURE__*/_jsx(\"td\",{\"data-label\":\"Net chg.\",className:profClass,children:stock.net}),/*#__PURE__*/_jsx(\"td\",{\"data-label\":\"Day chg.\",className:dayClass,children:stock.day})]},index);})})]})})]}),/*#__PURE__*/_jsx(\"div\",{className:\"holdings-summary\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"row text-center\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"col\",children:[/*#__PURE__*/_jsxs(\"h5\",{children:[\"29,875.\",/*#__PURE__*/_jsx(\"span\",{children:\"55\"})]}),/*#__PURE__*/_jsx(\"p\",{children:\"Total investment\"})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"col\",children:[/*#__PURE__*/_jsxs(\"h5\",{children:[\"31,428.\",/*#__PURE__*/_jsx(\"span\",{children:\"95\"})]}),/*#__PURE__*/_jsx(\"p\",{children:\"Current value\"})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"col\",children:[/*#__PURE__*/_jsx(\"h5\",{className:\"profit\",children:\"1,553.40 (+5.20%)\"}),/*#__PURE__*/_jsx(\"p\",{children:\"P&L\"})]})]})}),/*#__PURE__*/_jsx(\"div\",{className:\"holdings-container\",children:/*#__PURE__*/_jsx(VerticalGraph,{data:data})})]});};export default Holdings;","map":{"version":3,"names":["React","useState","useEffect","axios","VerticalGraph","jsxs","_jsxs","jsx","_jsx","Fragment","_Fragment","Holdings","allHoldings","setAllHoldings","get","then","res","data","labels","map","stock","name","datasets","label","price","backgroundColor","children","className","length","index","curValue","qty","pnl","avg","isProfit","profClass","dayClass","isLoss","toFixed","net","day"],"sources":["C:/Users/hp/zerodha/dashboard/src/components/Holdings.js"],"sourcesContent":["import React, { useState, useEffect } from \"react\";\nimport axios from \"axios\";\nimport { VerticalGraph } from \"./VerticalGraph\";\n\nconst Holdings = () => {\n  const [allHoldings, setAllHoldings] = useState([]);\n\n  useEffect(() => {\n    axios.get(\"http://localhost:3002/allHoldings\").then((res) => {\n      setAllHoldings(res.data);\n    });\n  }, []);\n\n  const labels = allHoldings.map((stock) => stock.name);\n\n  const data = {\n    labels,\n    datasets: [\n      {\n        label: \"Stock Price\",\n        data: allHoldings.map((stock) => stock.price),\n        backgroundColor: \"rgba(65, 132, 243, 0.6)\",\n      },\n    ],\n  };\n\n  return (\n    <>\n      {/* ================= HOLDINGS TABLE ================= */}\n      <div className=\"holdings-container\">\n        <h3 className=\"title\">Holdings ({allHoldings.length})</h3>\n\n        <div className=\"order-table\">\n          <table>\n            <thead>\n              <tr>\n                <th>Instrument</th>\n                <th>Qty.</th>\n                <th>Avg. cost</th>\n                <th>LTP</th>\n                <th>Cur. val</th>\n                <th>P&amp;L</th>\n                <th>Net chg.</th>\n                <th>Day chg.</th>\n              </tr>\n            </thead>\n\n            <tbody>\n              {allHoldings.map((stock, index) => {\n                const curValue = stock.price * stock.qty;\n                const pnl = curValue - stock.avg * stock.qty;\n                const isProfit = pnl >= 0;\n                const profClass = isProfit ? \"profit\" : \"loss\";\n                const dayClass = stock.isLoss ? \"loss\" : \"profit\";\n\n                return (\n                  <tr key={index}>\n                    <td data-label=\"Instrument\">{stock.name}</td>\n                    <td data-label=\"Qty\">{stock.qty}</td>\n                    <td data-label=\"Avg. cost\">{stock.avg.toFixed(2)}</td>\n                    <td data-label=\"LTP\">{stock.price.toFixed(2)}</td>\n                    <td data-label=\"Cur. val\">{curValue.toFixed(2)}</td>\n                    <td data-label=\"P&L\" className={profClass}>\n                      {pnl.toFixed(2)}\n                    </td>\n                    <td data-label=\"Net chg.\" className={profClass}>\n                      {stock.net}\n                    </td>\n                    <td data-label=\"Day chg.\" className={dayClass}>\n                      {stock.day}\n                    </td>\n                  </tr>\n                );\n              })}\n            </tbody>\n          </table>\n        </div>\n      </div>\n\n      {/* ================= SUMMARY ================= */}\n      <div className=\"holdings-summary\">\n        <div className=\"row text-center\">\n          <div className=\"col\">\n            <h5>\n              29,875.<span>55</span>\n            </h5>\n            <p>Total investment</p>\n          </div>\n\n          <div className=\"col\">\n            <h5>\n              31,428.<span>95</span>\n            </h5>\n            <p>Current value</p>\n          </div>\n\n          <div className=\"col\">\n            <h5 className=\"profit\">1,553.40 (+5.20%)</h5>\n            <p>P&amp;L</p>\n          </div>\n        </div>\n      </div>\n\n      {/* ================= GRAPH ================= */}\n      <div className=\"holdings-container\">\n        <VerticalGraph data={data} />\n      </div>\n    </>\n  );\n};\n\nexport default Holdings;\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}